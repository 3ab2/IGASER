<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>IGASER - BTP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>
<body>

  <header>IGASER - Système de Gestion BTP</header>

  <button id="btn-nouveau" onclick="afficherFormulaire()">➕ Nouveau Projet</button>

  <form class="formulaires" action="traitement.php" method="post" novalidate>
    <h2>📋 Informations du Projet</h2>
    <div class="form-group">
      <input type="text" name="projet_id" placeholder="ID Projet *" required maxlength="50">
      <input type="text" name="projet_nom" placeholder="Nom du Projet *" required maxlength="255">
      <input type="text" name="projet_lieu" placeholder="Lieu du Projet *" required maxlength="255">
      <input type="number" name="projet_budget" placeholder="Budget du Projet (MAD) *" required min="0" step="0.01">
      <label for="projet_debut">Date de début :</label>
      <input type="date" id="projet_debut" name="projet_debut" required>
      <label for="projet_fin">Date de fin :</label>
      <input type="date" id="projet_fin" name="projet_fin" required>
    </div>

    <h2> Informations du Chantier</h2>
    <div class="form-group">
      <input type="text" name="chantier_id" placeholder="ID Chantier *" required maxlength="50">
      <input type="text" name="chantier_nom" placeholder="Nom du Chantier *" required maxlength="255">
      <input type="text" name="chantier_lieu" placeholder="Lieu du Chantier *" required maxlength="255">
      <select name="chantier_etat" required>
        <option value="">Sélectionner l'état du chantier</option>
        <option value="En cours">En cours</option>
        <option value="Terminé">Terminé</option>
        <option value="En attente">En attente</option>
        <option value="Suspendu">Suspendu</option>
      </select>
    </div>

    <h3> Employés</h3>
    <div id="conteneur_employe"></div>
    <div id="modele_employe" class="bloc" style="display:none">
      <input type="text" name="employe_id[]" placeholder="ID Employé *" required maxlength="50">
      <input type="text" name="employe_nom[]" placeholder="Nom de l'Employé *" required maxlength="255">
      <input type="text" name="employe_poste[]" placeholder="Poste *" required maxlength="100">
      <button type="button" class="btn-supprimer" onclick="supprimerBloc(this)">🗑 Supprimer</button>
    </div>
    <button type="button" onclick="ajouterBloc('employe')">➕ Ajouter un Employé</button>

    <h3> Engins</h3>
    <div id="conteneur_engin"></div>
    <div id="modele_engin" class="bloc" style="display:none">
      <input type="text" name="engin_id[]" placeholder="ID Engin *" required maxlength="50">
      <input type="text" name="engin_nom[]" placeholder="Nom de l'Engin *" required maxlength="255">
      <input type="text" name="engin_type[]" placeholder="Type d'Engin *" required maxlength="100">
      <select name="engin_etat[]" required>
        <option value="">État de l'engin</option>
        <option value="Bon">Bon</option>
        <option value="Moyen">Moyen</option>
        <option value="Mauvais">Mauvais</option>
        <option value="En réparation">En réparation</option>
      </select>
      <select name="engin_dispo[]" required>
        <option value="">Disponibilité</option>
        <option value="Disponible">Disponible</option>
        <option value="Occupé">Occupé</option>
        <option value="Maintenance">En maintenance</option>
      </select>
      <button type="button" class="btn-supprimer" onclick="supprimerBloc(this)">🗑 Supprimer</button>
    </div>
    <button type="button" onclick="ajouterBloc('engin')">➕ Ajouter un Engin</button>

    <h3> Matériels</h3>
    <div id="conteneur_materiel"></div>
    <div id="modele_materiel" class="bloc" style="display:none">
      <input type="text" name="materiel_id[]" placeholder="ID Matériel *" required maxlength="50">
      <input type="text" name="materiel_nom[]" placeholder="Nom du Matériel *" required maxlength="255">
      <input type="text" name="materiel_type[]" placeholder="Type de Matériel *" required maxlength="100">
      <select name="materiel_etat[]" required>
        <option value="">État du matériel</option>
        <option value="Neuf">Neuf</option>
        <option value="Bon">Bon</option>
        <option value="Usé">Usé</option>
        <option value="Défectueux">Défectueux</option>
      </select>
      <button type="button" class="btn-supprimer" onclick="supprimerBloc(this)">🗑 Supprimer</button>
    </div>
    <button type="button" onclick="ajouterBloc('materiel')">➕ Ajouter du Matériel</button>

    <h3> Fournisseurs</h3>
    <div id="conteneur_fournisseur"></div>
    <div id="modele_fournisseur" class="bloc" style="display:none">
      <input type="text" name="fournisseur_id[]" placeholder="ID Fournisseur *" required maxlength="50">
      <input type="text" name="fournisseur_nom[]" placeholder="Nom du Fournisseur *" required maxlength="255">
      <input type="text" name="fournisseur_contact[]" placeholder="Contact (téléphone/email) *" required maxlength="255">
      <input type="text" name="fournisseur_specialite[]" placeholder="Spécialité *" required maxlength="255">
      <button type="button" class="btn-supprimer" onclick="supprimerBloc(this)">🗑 Supprimer</button>
    </div>
    <button type="button" onclick="ajouterBloc('fournisseur')">➕ Ajouter un Fournisseur</button>

    <h3> Commandes</h3>
    <div id="conteneur_commande"></div>
    <div id="modele_commande" class="bloc" style="display:none">
      <input type="text" name="commande_id[]" placeholder="ID Commande *" required maxlength="50">
      <label>Date de commande :</label>
      <input type="date" name="commande_date[]" required>
      <input type="text" name="commande_fournisseur[]" placeholder="ID Fournisseur *" required maxlength="50">
      <button type="button" class="btn-supprimer" onclick="supprimerBloc(this)">🗑 Supprimer</button>
    </div>
    <button type="button" onclick="ajouterBloc('commande')">➕ Ajouter une Commande</button>

    <h3> Factures</h3>
    <div id="conteneur_facture"></div>
    <div id="modele_facture" class="bloc" style="display:none">
      <input type="text" name="facture_id[]" placeholder="ID Facture *" required maxlength="50">
      <input type="number" name="facture_montant[]" placeholder="Montant (MAD) *" required min="0" step="0.01">
      <label>Date de facture :</label>
      <input type="date" name="facture_date[]" required>
      <input type="text" name="facture_commande[]" placeholder="ID Commande *" required maxlength="50">
      <button type="button" class="btn-supprimer" onclick="supprimerBloc(this)">🗑 Supprimer</button>
    </div>
    <button type="button" onclick="ajouterBloc('facture')">➕ Ajouter une Facture</button>

    <br><br>
    <div style="text-align: center;">
      <button type="submit" class="btn-submit">✅ Enregistrer le Projet</button>
      <button type="button" class="btn-annuler" onclick="masquerFormulaire()">❌ Annuler</button>
    </div>
  </form>

  <footer>
    <p>📧 Email : contact@igaser.com</p>
    <p>📍 Localisation : IGASER 315 ZI, El Jadida</p>
    <p>📞 Téléphone : +212 523 352 900</p>
    <p>&copy; 2024 IGASER - Tous droits réservés</p>
  </footer>

</body>
</html>












